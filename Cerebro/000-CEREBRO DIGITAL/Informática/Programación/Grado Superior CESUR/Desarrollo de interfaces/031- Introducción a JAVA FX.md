---
ID: 31
nombre: Introducci√≥n a JAVA FX
tags:
  - pagdesarrollo_de_interfaces
---
___
## üåü Introducci√≥n a JavaFX

![](https://www.youtube.com/watch?v=HOr5djeytsA&list=PLG1qdjD__qH6ULjW5iN8E45m5nkaCNbUu&index=211&ab_channel=Aulaenlanube)

### üìö Pre√°mbulo: Requisitos Previos
Antes de adentrarnos en el mundo de JavaFX, es crucial que est√©s familiarizado con el concepto de Mabel, como se discuti√≥ en el v√≠deo anterior del curso. Si no tienes claro qu√© es Mabel, te recomendamos que revises ese material primero.

### üå± Origen y Evoluci√≥n de JavaFX
JavaFX se origin√≥ como una evoluci√≥n de Java Swing, que comenz√≥ a mostrar sus limitaciones con la aparici√≥n de nuevos dispositivos como m√≥viles y tablets. Lanzado inicialmente en la versi√≥n 8 de Java en 2014, JavaFX ofrec√≠a una gama m√°s amplia de capacidades gr√°ficas.

#### üé® Caracter√≠sticas Gr√°ficas
- Creaci√≥n de formas en 2D y 3D
- Trabajo avanzado con im√°genes
- Incorporaci√≥n de contenido multimedia
- Uso de hojas de estilo CSS para el dise√±o de interfaces

### üîÑ Cambios en la Mantenimiento: De Oracle a OpenJFX
Aunque inicialmente fue desarrollado y mantenido por Oracle y formaba parte del JDK oficial, a partir de la versi√≥n 11 de Java, Oracle descontinu√≥ su soporte. Desde entonces, JavaFX se ha convertido en un proyecto de c√≥digo abierto bajo el nombre de OpenJFX, mantenido por la comunidad de desarrolladores.

### üõ† Herramientas y Versiones
- **OpenJFX**: Versi√≥n de c√≥digo abierto que utilizaremos en este curso.
- **Gluon**: Una implementaci√≥n comercial con herramientas especializadas, por ejemplo, para el desarrollo m√≥vil.

### üìê Arquitectura: Modelo Vista Controlador (MVC)
En este curso, abordaremos el desarrollo de aplicaciones JavaFX utilizando el patr√≥n de dise√±o Modelo-Vista-Controlador (MVC).

#### üìÇ Dise√±o de la Interfaz: Uso de FXML
Para el dise√±o de la interfaz, utilizaremos archivos FXML, que permiten una organizaci√≥n m√°s clara y modular del c√≥digo de la interfaz de usuario.

___
## Ejemplo App

### üõ† API de OpenJFX: N√∫cleo para Aplicaciones JavaFX

#### üèó Componentes Clave
La API de OpenJFX nos ofrece clases e interfaces fundamentales para desarrollar aplicaciones JavaFX. Aqu√≠ hay algunos componentes clave:

- **Stage**: Representa la ventana principal de la aplicaci√≥n.
- **Scene**: Contiene todos los elementos que se muestran en una ventana. Puedes tener m√∫ltiples escenas y cambiar entre ellas.
- **Nodes**: Elementos individuales como botones, tablas, etiquetas, etc.

#### üìù Ejemplo: "Hola Mundo" en JavaFX

```java
// Clase principal que hereda de 'Application'
public class HelloWorld extends Application {
    // M√©todo 'start' que se llama despu√©s de inicializar JavaFX
    public void start(Stage primaryStage) {
        // Creaci√≥n de un bot√≥n
        Button btn = new Button("Saludar");
        // Acci√≥n al hacer clic en el bot√≥n
        btn.setOnAction(e -> System.out.println("Hola Mundo desde JavaFX"));
        
        // Creaci√≥n de una escena
        Scene scene = new Scene(btn, 200, 100);
        
        // Configuraci√≥n de la ventana principal
        primaryStage.setScene(scene);
        primaryStage.setTitle("Mi Primera Aplicaci√≥n");
        primaryStage.show();
    }
    
    // M√©todo 'main' que inicia la aplicaci√≥n
    public static void main(String[] args) {
        launch(args);
    }
}
```

Este ejemplo muestra c√≥mo crear una ventana con un bot√≥n que, al hacer clic, muestra un mensaje en la consola.

### üöÄ Inicializaci√≥n y Punto de Entrada

#### üå± M√©todo `main`
El m√©todo `main` invoca al m√©todo `launch`, que es el punto de entrada de cualquier aplicaci√≥n JavaFX. Este m√©todo inicializa el entorno de JavaFX y luego llama al m√©todo `start`.

```java
// M√©todo 'main' que sirve como punto de entrada
public static void main(String[] args) {
    launch(args);
}
```

#### üåü M√©todo `start`
El m√©todo `start` es donde generalmente configuramos la interfaz de usuario y mostramos la ventana principal. Este m√©todo recibe una instancia de la clase `Stage`, que representa la ventana principal.

### üìö Documentaci√≥n y Recursos Adicionales

Si deseas explorar m√°s, la API de OpenJFX ofrece documentaci√≥n detallada y ejemplos para cada clase y m√©todo. Puedes buscar clases espec√≠ficas o navegar por los distintos m√≥dulos para encontrar lo que necesitas.

---
## üåü Modelo-Vista-Controlador (MVC) en JavaFX

### üìö Introducci√≥n al MVC en JavaFX

Aunque es posible crear aplicaciones JavaFX de manera sencilla, la pr√°ctica com√∫n es utilizar la arquitectura Modelo-Vista-Controlador (MVC). Este patr√≥n de dise√±o es especialmente √∫til para separar la l√≥gica de negocio de la interfaz de usuario, lo que facilita la gesti√≥n y el mantenimiento del c√≥digo.

### üèó Componentes del MVC

#### üìä Modelo (Model)
- **Definici√≥n**: Representa la l√≥gica de negocio y los datos en la aplicaci√≥n.
- **Caracter√≠sticas**:
  - Compuesto por m√©todos y objetos necesarios para el funcionamiento de la aplicaci√≥n.
  - No tiene conocimiento de la interfaz de usuario.
  - Se comunica con la vista a trav√©s del controlador.

#### üñº Vista (View)
- **Definici√≥n**: Es la interfaz de usuario que interact√∫a con el usuario.
- **Caracter√≠sticas**:
  - Compuesta por elementos de la interfaz como botones, cajas de texto, tablas, im√°genes, etc.
  - Obtiene datos del modelo para representarlos.
  - Env√≠a las acciones del usuario al controlador.

#### üéõ Controlador (Controller)
- **Definici√≥n**: Act√∫a como intermediario entre el modelo y la vista.
- **Caracter√≠sticas**:
  - Recibe las acciones del usuario desde la vista.
  - Invoca m√©todos del modelo seg√∫n las acciones del usuario.
  - Actualiza la vista en funci√≥n de los cambios en el modelo.

### üîÑ Flujo de Interacci√≥n en MVC

1. El usuario interact√∫a con la **Vista**.
2. La **Vista** env√≠a las acciones del usuario al **Controlador**.
3. El **Controlador** procesa la acci√≥n y solicita cambios al **Modelo** si es necesario.
4. El **Modelo** actualiza su estado y notifica al **Controlador**.
5. El **Controlador** actualiza la **Vista** en funci√≥n de los cambios en el **Modelo**.

___
## üé® Dise√±o de la UI con FXML en JavaFX

### üìÑ Introducci√≥n al Uso de FXML

En el desarrollo de aplicaciones JavaFX, una pr√°ctica com√∫n es dise√±ar la interfaz de usuario utilizando archivos FXML. Estos archivos son similares al `pom.xml` que se usa en Maven y est√°n escritos en un lenguaje de marcado basado en XML. La ventaja de usar FXML es que permite separar la l√≥gica de la aplicaci√≥n de su interfaz gr√°fica, lo que facilita la organizaci√≥n del c√≥digo.

#### üìÅ Estructura de un Archivo FXML

Un archivo FXML t√≠pico comienza con la definici√≥n del tipo de versi√≥n de XML y la codificaci√≥n de caracteres, que generalmente es UTF-8. A continuaci√≥n, se pueden a√±adir distintos componentes a la vista. Por ejemplo:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<AnchorPane fx:controller="MyController">
    <Button fx:id="myButton"/>
</AnchorPane>
```

En este ejemplo, se crea un contenedor `AnchorPane` y dentro de √©l, se coloca un bot√≥n. Cada componente se define mediante etiquetas. El `AnchorPane` tiene una etiqueta de apertura y otra de cierre, mientras que el bot√≥n tiene una √∫nica etiqueta auto-cerrada.

### üéõ Controladores en FXML

#### üîÑ Asociaci√≥n de Controladores

Para controlar el comportamiento de los componentes de la vista, se asigna un controlador a ellos. En el ejemplo anterior, el controlador se asigna al `AnchorPane` mediante la instrucci√≥n `fx:controller="MyController"`. Aqu√≠, `MyController` es una clase Java que controlar√° este componente.

#### üÜî Identificadores de Componentes

Los componentes tambi√©n pueden tener identificadores, que se definen con `fx:id`. Estos identificadores permiten acceder a los componentes desde el c√≥digo Java para manipularlos. En el ejemplo, el bot√≥n tiene un `fx:id` de `myButton`.

### üïπ Ejemplo de Clase Controladora en Java

```java
public class MyController {
    @FXML
    private Button myButton;
    
	@FXML
    public void initialize() {
        myButton.setOnAction(e -> {
            System.out.println("Bot√≥n pulsado");
        });
    }
}
```

En esta clase controladora, se utiliza la anotaci√≥n `@FXML` para enlazar el bot√≥n definido en el archivo FXML con un campo en la clase Java. El m√©todo `initialize` se ejecuta autom√°ticamente despu√©s de que todos los elementos de la UI se han cargado desde el archivo FXML. Dentro de este m√©todo, se define un evento `setOnAction` para el bot√≥n, que mostrar√° "Bot√≥n pulsado" en la consola cuando se haga clic en √©l.

#### üìù Notas Adicionales

* Generalmente, hay una √∫nica clase controladora asociada a cada archivo FXML.
* Es com√∫n asignar el controlador al elemento ra√≠z del archivo FXML, que en este caso es el `AnchorPane`.

Con estos elementos en su lugar, tienes una arquitectura limpia y bien organizada para desarrollar aplicaciones JavaFX m√°s complejas.

### Ejemplo de MVC en JavaFX

```java
// modelo
public class Contador{
	private int n = 0;
	
	public void incrementar() {
		n++;
	}
	
	public int get() {
		return n;
	}
}

// Vista(FXML)
<Button fx:id="botonIncrementar" text="Incrementar" />

// Controlador
public class ContadorControlador {
	@FXML private Button botonIncrementar;
	private Contador contador;
	@FXML
	public void initialize() {
		contador = new Contador();
		botonIncrementar.setOnAction(e -> {
			contador.incrementar();
			System.out.println("Contador: " + contador.get());
		});
	}

}
```

___
## üõ†Ô∏è Funcionamiento de una App Maven en JavaFX

### üåê Introducci√≥n a Maven y JavaFX

Maven es una herramienta de gesti√≥n de proyectos que facilita la creaci√≥n y el mantenimiento de aplicaciones JavaFX. En este contexto, vamos a explorar c√≥mo funciona una aplicaci√≥n JavaFX sencilla que utiliza Maven para su gesti√≥n.

### üì¶ Creaci√≥n del Proyecto en Visual Studio Code

Para empezar, se crea un nuevo proyecto en Visual Studio Code. Se puede optar por un arquetipo predefinido de JavaFX o configurarlo manualmente a trav√©s de Maven. En este caso, se elige un arquetipo predefinido de JavaFX para generar un proyecto de ejemplo.

1. Seleccionar el arquetipo `JavaFX Archetype FXML`.
2. Nombrar el proyecto, por ejemplo, `AulaFX.Prueba1`.
3. Elegir la versi√≥n inicial del proyecto, generalmente `1.0`.

Una vez creado el proyecto, se generar√° una estructura de carpetas que incluye:

- Carpeta `Java` con el paquete `AulaFX.Prueba1`.
- Carpeta `resources` con dos archivos FXML para representar dos escenas.
- Carpeta `target` con archivos compilados.
- Archivo `pom.xml` para la configuraci√≥n de Maven.

#### üìù Nota

Se a√±ade un archivo `module-info.java` si la aplicaci√≥n est√° modularizada. Este archivo especifica qu√© m√≥dulos del JDK o de terceros son necesarios para la aplicaci√≥n.
Para que no de error podemos a√±adir al c√≥digo ``transitive`` :

```java
module com.aulafx.prueba1 {
¬† ¬† requires transitive javafx.controls;
¬† ¬† requires javafx.fxml;
  
¬† ¬† opens com.aulafx.prueba1 to javafx.fxml;
¬† ¬† exports com.aulafx.prueba1;
}
```


### üîÑ Cambio entre Vistas

La aplicaci√≥n de ejemplo tiene dos vistas: `primary` y `secondary`. Cada vista tiene su propio controlador, y estos controladores se encargan de cambiar entre las vistas.

#### üìÑ C√≥digo de Controladores

```java
// PrimaryController.java
public class PrimaryController {
    @FXML
    private void switchToSecondary() throws IOException {
        App.setRoot("secondary");
    }
}

// SecondaryController.java
public class SecondaryController {
    @FXML
    private void switchToPrimary() throws IOException {
        App.setRoot("primary");
    }
}
```

#### üìÑ C√≥digo de Vistas (FXML)

```xml
<!-- primary.fxml -->
<VBox fx:controller="com.aulafx.prueba1.PrimaryController">
    <Label text="Primary View" />
    <Button text="Switch to Secondary View" onAction="#switchToSecondary"/>
</VBox>

<!-- secondary.fxml -->
<VBox fx:controller="com.aulafx.prueba1.SecondaryController">
    <Label text="Secondary View" />
    <Button text="Switch to Primary View" onAction="#switchToPrimary" />
</VBox>
```

### üéÆ Funcionamiento de la Aplicaci√≥n

La aplicaci√≥n inicia con la vista `primary`. Al hacer clic en el bot√≥n "Switch to Secondary View", se cambia a la vista `secondary`. Este cambio se realiza a trav√©s de los m√©todos en los controladores, que invocan al m√©todo `setRoot` de la clase `App`.

#### üìÑ C√≥digo de la Clase Principal (App.java)

```java
public class App extends Application {
    private static Scene scene;

    @Override
    public void start(Stage stage) throws IOException {
        scene = new Scene(loadFXML("primary"), 640, 480);
        stage.setScene(scene);
        stage.show();
    }

    static void setRoot(String fxml) throws IOException {
        scene.setRoot(loadFXML(fxml));
    }

    private static Parent loadFXML(String fxml) throws IOException {
        FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(fxml + ".fxml"));
        return fxmlLoader.load();
    }

	public static void main(String[] args) {
¬† ¬† ¬† ¬† launch();
¬† ¬† }
}
```

Con estos elementos, se tiene una base s√≥lida para desarrollar aplicaciones m√°s complejas en JavaFX utilizando Maven.


___
%%
tags: #pagdesarrollo_de_interfaces 
V√≠nculos: [[000-Men√∫ Desarrollo de interfaces üìÉ|Men√∫ Desarrollo de interfaces üìÉ]]
%%